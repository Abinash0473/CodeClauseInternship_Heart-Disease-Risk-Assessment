<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Heart Health Predictor</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6;
        }
        .container {
            max-width: 1200px;
        }
        input[type="number"],
        select {
            appearance: none;
            -webkit-appearance: none;
            -moz-appearance: none;
        }
        input[type="number"]::-webkit-inner-spin-button,
        input[type="number"]::-webkit-outer-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }
        input:focus,
        select:focus {
            outline: none;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.5);
        }
        .form-input {
            transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
        }
        .form-input:focus {
            border-color: #3b82f6;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.25);
        }
        @media (max-width: 768px) {
            .container {
                padding-left: 1rem;
                padding-right: 1rem;
            }
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .risk-assessment {
            animation: fadeIn 0.5s ease-out;
        }
    </style>
</head>
<body class="bg-gray-100">
    <div class="container mx-auto px-4 py-8">
        <div class="max-w-4xl mx-auto bg-white rounded-lg shadow-xl overflow-hidden">
            <div class="bg-blue-600 text-white py-6 px-8">
                <h1 class="text-3xl font-bold">Heart Health Predictor</h1>
                <p class="mt-2">Enter your health information to assess your heart disease risk</p>
            </div>
            <form method="POST" class="p-8 space-y-6">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div>
                        <label for="age" class="block text-sm font-medium text-gray-700">Age</label>
                        <input type="number" id="age" name="age" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50">
                    </div>
                    <div>
                        <label for="sex" class="block text-sm font-medium text-gray-700">Sex</label>
                        <select id="sex" name="sex" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50">
                            <option value="1">Male</option>
                            <option value="0">Female</option>
                        </select>
                    </div>
                    <div>
                        <label for="chest_pain" class="block text-sm font-medium text-gray-700">Chest Pain Type</label>
                        <select id="chest_pain" name="chest_pain" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50">
                            <option value="1">Typical Angina</option>
                            <option value="2">Atypical Angina</option>
                            <option value="3">Non-anginal Pain</option>
                            <option value="4">Asymptomatic</option>
                        </select>
                    </div>
                    <div>
                        <label for="bp" class="block text-sm font-medium text-gray-700">Resting Blood Pressure (mm Hg)</label>
                        <input type="number" id="bp" name="bp" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50">
                    </div>
                    <div>
                        <label for="cholesterol" class="block text-sm font-medium text-gray-700">Cholesterol (mg/dl)</label>
                        <input type="number" id="cholesterol" name="cholesterol" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50">
                    </div>
                    <div>
                        <label for="fbs" class="block text-sm font-medium text-gray-700">Fasting Blood Sugar > 120 mg/dl</label>
                        <select id="fbs" name="fbs" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50">
                            <option value="1">True</option>
                            <option value="0">False</option>
                        </select>
                    </div>
                    <div>
                        <label for="ekg" class="block text-sm font-medium text-gray-700">EKG Results</label>
                        <select id="ekg" name="ekg" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50">
                            <option value="0">Normal</option>
                            <option value="1">ST-T Wave Abnormality</option>
                            <option value="2">Left Ventricular Hypertrophy</option>
                        </select>
                    </div>
                    <div>
                        <label for="max_hr" class="block text-sm font-medium text-gray-700">Maximum Heart Rate Achieved</label>
                        <input type="number" id="max_hr" name="max_hr" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50">
                    </div>
                    <div>
                        <label for="angina" class="block text-sm font-medium text-gray-700">Exercise Induced Angina</label>
                        <select id="angina" name="angina" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50">
                            <option value="1">Yes</option>
                            <option value="0">No</option>
                        </select>
                    </div>
                    <div>
                        <label for="st_depression" class="block text-sm font-medium text-gray-700">ST Depression Induced by Exercise</label>
                        <input type="number" step="0.1" id="st_depression" name="st_depression" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50">
                    </div>
                    <div>
                        <label for="slope" class="block text-sm font-medium text-gray-700">Slope of the Peak Exercise ST Segment</label>
                        <select id="slope" name="slope" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50">
                            <option value="1">Upsloping</option>
                            <option value="2">Flat</option>
                            <option value="3">Downsloping</option>
                        </select>
                    </div>
                    <div>
                        <label for="vessels" class="block text-sm font-medium text-gray-700">Number of Major Vessels Colored by Flourosopy</label>
                        <select id="vessels" name="vessels" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50">
                            <option value="0">0</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                        </select>
                    </div>
                    <div>
                        <label for="thallium" class="block text-sm font-medium text-gray-700">Thallium Stress Test Result</label>
                        <select id="thallium" name="thallium" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50">
                            <option value="3">Normal</option>
                            <option value="6">Fixed Defect</option>
                            <option value="7">Reversible Defect</option>
                        </select>
                    </div>
                </div>
                <div class="mt-8">
                    <button type="submit" class="w-full bg-blue-600 text-white py-3 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition duration-150 ease-in-out">
                        Predict Risk
                    </button>
                </div>
            </form>
            {% if risk %}
            <div class="p-8 bg-gray-50 border-t risk-assessment">
                <h2 class="text-2xl font-semibold text-gray-800">Your Heart Health Assessment</h2>
                <p class="mt-2 text-lg">
                    Based on the information provided, your predicted risk is:
                    <span class="font-bold {% if risk == 'High Risk' %}text-red-600{% else %}text-green-600{% endif %}">
                        {{ risk }}
                    </span>
                </p>
                <p class="mt-4 text-sm text-gray-600">
                    Remember, this is just a prediction based on general factors. For a comprehensive evaluation of your heart health, please consult with a healthcare professional.
                </p>
            </div>
            {% endif %}
        </div>
    </div>
</body>
</html>
